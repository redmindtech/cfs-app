(self.webpackChunkcfs=self.webpackChunkcfs||[]).push([[366],{366:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CargoDeliveryModule:()=>me});var o=i(8583),n=i(4655),a=i(3679),r=i(5203),l=i(7716),s=i(1095),c=i(2238);let d=(()=>{class e{constructor(){}ngOnInit(){}ok(){window.location.reload()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-delivery-fail-status"]],decls:3,vars:0,consts:[[1,"d-flex","pb-1"],["mat-raised-button","","mat-dialog-close","",1,"ml-auto",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"button",1),l.NdJ("click",function(){return t.ok()}),l._uU(2,"Ok"),l.qZA(),l.qZA())},directives:[s.lW,c.ZT],styles:[""]}),e})();var u=i(1841),g=i(8002),p=i(2340);let m=(()=>{class e{constructor(e){this.http=e}packType(){const e={headers:new u.WM({"Content-Type":"application/x-www-form-urlencoded"})},t=new URLSearchParams;let i=window.localStorage.getItem("Token");return this.http.post(`${p.N.apiUrl}/getpack_list?user_token=${i}&username=&saas_id=LIVEFSL&search_key=`,t.toString(),e).pipe((0,g.U)(e=>{try{return e}catch(t){return e}}))}getCargoDeliveryList(e){let t=e;const i={headers:new u.WM({"Content-Type":"application/x-www-form-urlencoded"})},o=new URLSearchParams;let n=window.localStorage.getItem("Token");return this.http.post(`${p.N.apiUrl}/getcargo_delivery_list?user_token=${n}&username=&saas_id=LIVEFSL&search_key=${t}`,o.toString(),i).pipe((0,g.U)(e=>{try{return e}catch(t){return e}}))}getDeliveryItem(e){let t=e;const i={headers:new u.WM({"Content-Type":"application/x-www-form-urlencoded"})},o=new URLSearchParams;return this.http.post(`${p.N.apiUrl}/save_cargo_header?user_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkNGU1RBQjEiLCJuYmYiOjE2NzMzNTMxNTcsImV4cCI6MTcwNDg4OTE1NywiaWF0IjoxNjczMzUzMTU3fQ.AJ5SuHBJHTRTVefhab5u6RDVzkIb26N_hbTNbTTcZp4&segment_code=&saas_id=LIVEFSL&booking_no=${t}&draft_cfs_no=&item_desc=TEST&pack_code=BAG&customer_code=C904086&customer_name=BOSCO&driver_name=1&truck_no=1&received_qty=&volume=&weight=&cfs_note=1&marks_no=1&supplier_code=C0058059&supplier_name=RAJEN%20ODEDRA&supplier_ref=&receive_delivery=DELIVERY`,o.toString(),i).pipe((0,g.U)(e=>{try{return e}catch(t){return e}}))}SaveDeliveryItem(e,t,i){let o=t,n=i,a=e;const r={headers:new u.WM({"Content-Type":"application/x-www-form-urlencoded"})},l=new URLSearchParams;return this.http.post(`${p.N.apiUrl}/save_cargo_detail?user_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkNGU1RBQjEiLCJuYmYiOjE2NzMzNTMxNTcsImV4cCI6MTcwNDg4OTE1NywiaWF0IjoxNjczMzUzMTU3fQ.AJ5SuHBJHTRTVefhab5u6RDVzkIb26N_hbTNbTTcZp4&subjob_uid=&saas_id=LIVEFSL&booking_no=${a}&draft_cfs_no=${o}&height=1&breadth=1&length=1&received_qty=${n}&volume=0.000&weight=1& receive_delivery=DELIVERY`,l.toString(),r).pipe((0,g.U)(e=>{try{return e}catch(t){return e}}))}addDelivery(e){const t={headers:new u.WM({"Content-Type":"application/x-www-form-urlencoded"})},i=new URLSearchParams;return this.http.post(`${p.N.apiUrl}/add_item_delivery?user_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkNGU1RBQjEiLCJuYmYiOjE2NzUxNjg5ODUsImV4cCI6MTcwNjcwNDk4NSwiaWF0IjoxNjc1MTY4OTg1fQ.7Ot1oaQMjkNphCPaiWp2hAizm2O9jn4smnOEBjx7pm0&saas_id=LIVEFSL&segment_code=&booking_no=${e.BL_Booking}1&draft_cfs_no=''&sl_no=${e.Slno}&job_subjob_uid=${e.job_subjob_uid}&item_desc=${e.commodity}&pack_code=${e.pack_type}&customer_name&customer_code&driver_name=${e.Driver_Name}&truck_no=${e.Truck_No}&received_qty=${e.packages}&volume&weight&cfs_note&mark_no&supplier_code&supplier_name&supplier_ref&receive_delivery=DELIVERY`,i.toString(),t).pipe((0,g.U)(e=>{try{return e}catch(t){return e}}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(u.eN))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i(9470),f=i(8295),Z=i(9983),v=i(6627),b=i(1769),_=i(9075),k=i(6458);function x(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",15),l.TgZ(1,"div",16),l.TgZ(2,"mat-icon",17),l._uU(3,"arrow_upward"),l.qZA(),l.qZA(),l.TgZ(4,"div",18),l.TgZ(5,"h1"),l._uU(6,"Upload Photos"),l.qZA(),l.qZA(),l.TgZ(7,"div",19),l.TgZ(8,"input",20,21),l.NdJ("change",function(){l.CHM(e);const t=l.MAs(9);return l.oxw().selectedPhoto(t)}),l.qZA(),l.qZA(),l.TgZ(10,"div",22),l.TgZ(11,"button",23),l.NdJ("click",function(){return l.CHM(e),l.MAs(9).click()}),l._uU(12,"Select Photo"),l.qZA(),l.TgZ(13,"button",24),l.NdJ("click",function(){l.CHM(e);const t=l.oxw(),i=l.MAs(7);return t.openCamera(i)}),l._uU(14,"Capture Photo"),l.qZA(),l.qZA(),l.qZA()}2&e&&(l.xp6(2),l.Q6J("inline",!0))}function w(e,t){if(1&e&&(l.TgZ(0,"div",25),l._UZ(1,"img",26),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.Q6J("src",e.selectedFileObjectUrl,l.LSH)}}const T=function(e,t){return{"d-none":e,"d-flex flex-grow-1 flex-column container overflow-auto":t}};let y=(()=>{class e{constructor(e,t,i){this.sanitizer=e,this.dialogRef=t,this._snackBar=i,this.isCameraPage=!1,this.isImageTaken=!1,this.isUploadClicked=!1}ngOnInit(){}save(){}selectedPhoto(e){this.selectedFileBlob=e.files[0];const t=URL.createObjectURL(e.files[0]);this.selectedFileObjectUrl=this.sanitizer.bypassSecurityTrustUrl(t)}uploadPhoto(){if(!this.isUploadClicked){this.isUploadClicked=!0;let e=new FileReader;e.readAsDataURL(this.selectedFileBlob),e.onloadend=()=>{}}}openCamera(e){this.isCameraPage=!0,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1}).then(t=>{this.track=t.getTracks()[0],e.srcObject=t}).catch(function(e){console.error("Oops. Something is broken.",e)})}captureImage(e,t,i){e.width=t.videoWidth,e.height=t.videoHeight,e.getContext("2d").drawImage(t,0,0),i.src=e.toDataURL("image/webp"),this.selectedFileObjectUrl=e.toDataURL("image/webp"),e.toBlob(e=>this.selectedFileBlob=e),this.isImageTaken=!0,this.isCameraPage=!1}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(_.H7),l.Y36(c.so),l.Y36(k.ux))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-upload-photo-popup"]],decls:20,vars:10,consts:[[1,"d-flex","flex-column","overflow-auto","h-100"],[1,"cfs-title1"],[1,"flex-grow-1","d-flex","flex-column","container","overflow-auto"],["class","flex-grow-1 d-flex flex-column align-items-center justify-content-center",4,"ngIf"],[3,"ngClass"],["autoplay","","playsinline","",1,"showVideo","flex-grow-1","pb-3","overflow-auto",3,"hidden"],["cameraView",""],[1,"showVideo",3,"hidden"],["capturedPicture",""],["capturedImg",""],["mat-raised-button","","color","primary",1,"m-auto",3,"click"],["class","showImage p-3 flex-grow-1 overflow-auto m-auto",4,"ngIf"],[1,"d-flex","pb-1","pt-2"],["mat-raised-button","","mat-dialog-close","",1,"ml-auto"],["mat-raised-button","","color","primary",1,"ml-3",3,"disabled","click"],[1,"flex-grow-1","d-flex","flex-column","align-items-center","justify-content-center"],[1,"upload-icon-size","mb-3"],[3,"inline"],[1,""],[1,"d-none"],["type","file","id","myfile","name","myfile","accept","image/gif, image/jpeg",3,"change"],["selectFile",""],[1,"d-flex"],["mat-raised-button","","color","primary",1,"",3,"click"],["mat-raised-button","","color","primary",1,"ml-2",3,"click"],[1,"showImage","p-3","flex-grow-1","overflow-auto","m-auto"],[1,"w-100",3,"src"]],template:function(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._uU(2,"Capture Image"),l.qZA(),l.TgZ(3,"div",2),l.YNc(4,x,15,1,"div",3),l.TgZ(5,"div",4),l._UZ(6,"video",5,6),l._UZ(8,"canvas",7,8),l._UZ(10,"img",7,9),l.TgZ(12,"button",10),l.NdJ("click",function(){l.CHM(e);const i=l.MAs(9),o=l.MAs(7),n=l.MAs(11);return t.captureImage(i,o,n)}),l._uU(13,"Take Photo"),l.qZA(),l.qZA(),l.YNc(14,w,2,1,"div",11),l.TgZ(15,"div",12),l.TgZ(16,"button",13),l._uU(17," Close "),l.qZA(),l.TgZ(18,"button",14),l.NdJ("click",function(){return t.uploadPhoto()}),l._uU(19," Upload "),l.qZA(),l.qZA(),l.qZA(),l.qZA()}2&e&&(l.xp6(4),l.Q6J("ngIf",!t.selectedFileObjectUrl&&!t.isCameraPage),l.xp6(1),l.Q6J("ngClass",l.WLB(7,T,!t.isCameraPage,t.isCameraPage)),l.xp6(1),l.Q6J("hidden",t.isImageTaken),l.xp6(2),l.Q6J("hidden",!0),l.xp6(2),l.Q6J("hidden",!t.isImageTaken),l.xp6(4),l.Q6J("ngIf",t.selectedFileObjectUrl),l.xp6(4),l.Q6J("disabled",!t.selectedFileObjectUrl&&t.isUploadClicked))},directives:[o.O5,o.mk,s.lW,c.ZT,v.Hw],styles:[""]}),e})();var A=i(2873),q=i(7441),U=i(9047);function I(e,t){1&e&&l._UZ(0,"app-loader")}function N(e,t){if(1&e&&(l.TgZ(0,"mat-label"),l._uU(1),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.hij(" ",e.details.pack_type," ")}}function C(e,t){1&e&&(l.TgZ(0,"mat-lable"),l._uU(1,"Type"),l.qZA())}function D(e,t){if(1&e&&(l.TgZ(0,"div",19),l.TgZ(1,"h4"),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(2),l.AsE("Total ",e.x," packages were added successfully, Remaining ",e.totalpackage-e.x,"")}}let L=(()=>{class e{constructor(e,t,i,o){this.dialog=e,this.data=t,this.cargoDeliveryService=i,this.DeliveryItemApiService=o,this.isLoading=!1,this.draft_no=null,this.bookingNo=null,this.x=0,this.cbm="",this.selectedContainer={segment_code:"05",container_number:"WHLU5580880"}}ngOnInit(){this.details=this.data.bookingList.Delivery_BL[0],console.log(this.details),this.totalpackage=this.details.packages,this.draft_no=this.data.draft_no}quantity(){this.x=this.x+this.DeliveredPiece,console.log(this.x),this.DeliveredPiece=0}uploadPhoto(){this.dialog.open(y,{width:"80%",height:"90%",data:{}}).afterClosed().subscribe(e=>{})}save(){this.quantity(),console.log(this.DeliveredPiece),this.DeliveredPiece&&this.formatDate((new Date).getTime())}formatDate(e){return new Date(e).toLocaleTimeString("en-us",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}calculateCBM(){}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.uw),l.Y36(c.WI),l.Y36(m),l.Y36(A.n))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-delivery-details-popup"]],decls:29,vars:9,consts:[[1,"d-flex"],[1,"d-flex","flex-column","w-100"],[4,"ngIf"],[1,"d-flex","flex-column","overflow-auto","h-150"],[1,"cfs-title1"],[1,"flex-grow-1","container","overflow-auto","h-150"],[1,"col-12","d-flex","flex-column","h-100"],[1,"d-flex","justify-content-between","w-100"],[1,"px-1","w-50"],["name","type",3,"ngModel","disabled","ngModelChange"],["matInput","","placeholder","Enter Delivery Qty","type","number","name","DeliveredPiece",3,"ngModel","ngModelChange","keyup"],["class","ml-4","color","primary",4,"ngIf"],[1,"d-flex","align-items-end","h-150","mt-4","pt-2"],[1,"d-flex","pb-1","pt-2","mt-5","pt-5"],["mat-raised-button","","color","primary",1,"ml-4",3,"click"],["mat-raised-button","","color","primary",1,"ml-5",3,"disabled"],["mat-raised-button","","color","primary",1,"ml-5",3,"disabled","click"],[1,"d-flex","justify-content-center","mt-1"],["mat-raised-button","","mat-dialog-close","",1,"ml-3"],["color","primary",1,"ml-4"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.YNc(2,I,1,0,"app-loader",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l._uU(5,"Delivery Item"),l.qZA(),l.TgZ(6,"div",5),l.TgZ(7,"form",6),l.TgZ(8,"div",7),l.TgZ(9,"mat-form-field",8),l.YNc(10,N,2,1,"mat-label",2),l.YNc(11,C,2,0,"mat-lable",2),l.TgZ(12,"mat-select",9),l.NdJ("ngModelChange",function(e){return t.packageType=e}),l.qZA(),l.qZA(),l.TgZ(13,"mat-form-field",8),l.TgZ(14,"mat-label"),l._uU(15,"Delivered Qty"),l.qZA(),l.TgZ(16,"input",10),l.NdJ("ngModelChange",function(e){return t.DeliveredPiece=e})("keyup",function(){return t.calculateCBM()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(17,D,3,2,"div",11),l.TgZ(18,"div",12),l.TgZ(19,"div",13),l.TgZ(20,"button",14),l.NdJ("click",function(){return t.uploadPhoto()}),l._uU(21," Upload Photos "),l.qZA(),l.TgZ(22,"button",15),l._uU(23,"Complete"),l.qZA(),l.TgZ(24,"button",16),l.NdJ("click",function(){return t.save()}),l._uU(25,"Save"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(26,"div",17),l.TgZ(27,"button",18),l._uU(28,"Close"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngIf",t.isLoading),l.xp6(8),l.Q6J("ngIf",t.details.pack_type),l.xp6(1),l.Q6J("ngIf",!t.details.pack_type),l.xp6(1),l.Q6J("ngModel",t.packageType)("disabled",!0),l.xp6(4),l.Q6J("ngModel",t.DeliveredPiece),l.xp6(1),l.Q6J("ngIf",0!=t.x),l.xp6(5),l.Q6J("disabled",t.DeliveredPiece>t.totalpackage-t.x),l.xp6(2),l.Q6J("disabled",!t.DeliveredPiece))},directives:[o.O5,a._Y,a.JL,a.F,f.KE,q.gD,a.JJ,a.On,f.hX,Z.Nt,a.wV,a.Fj,s.lW,c.ZT,U.R],styles:[""]}),e})();var J=i(2789),S=i(2178);function j(e,t){1&e&&(l.TgZ(0,"div",14),l._UZ(1,"mat-progress-bar",15),l.qZA())}function B(e,t){1&e&&(l.TgZ(0,"th",16),l._uU(1,"Delivered Qty"),l.qZA())}function M(e,t){if(1&e&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.Oqu(e.rcvd_qty)}}function Q(e,t){1&e&&(l.TgZ(0,"th",16),l._uU(1,"Condition"),l.qZA())}function O(e,t){if(1&e&&(l.TgZ(0,"td",18),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.Oqu(e.good_damage)}}function Y(e,t){1&e&&(l.TgZ(0,"th",19),l._uU(1,"Action"),l.qZA())}function P(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"td",18),l.TgZ(1,"div",20),l.TgZ(2,"button",21),l.NdJ("click",function(){const t=l.CHM(e),i=t.$implicit,o=t.index,n=l.oxw();return n.DeleteItem(i,n.dataSource,o,n.house_no)}),l.TgZ(3,"mat-icon"),l._uU(4,"delete"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}}function F(e,t){1&e&&l._UZ(0,"tr",22)}function E(e,t){1&e&&l._UZ(0,"tr",23)}const R=function(){return[]};let V=(()=>{class e{constructor(e,t,i){this.dialog=e,this.DeliveryItemApiService=t,this.CargoDeliveryService=i,this.isUploadClicked=!1,this.isSuccess=!0,this.draft_no=null,this.bookingNo=null,this.isLoading=!1,this.dataSource=[],this.displayedColumns=["receivedPiece","damageNotes","actions"],this.selectedContainer={segment_code:"05",container_number:"WHLU5580880"},this.hblDetails={hblNumber:"220112000272",selectedContainer:{job_no:"22100302504"}},this.i="05",this.house_no="220112000272"}ngOnInit(){this.details=this.bookingList.Delivery_BL[0],console.log(this.bookingList)}deliveryItem(){if(this.AddDeliveryItem(this.details),!this.isUploadClicked){this.isUploadClicked=!0;const e=this.dialog.open(L,{height:"400px",width:"500px",data:{bookingList:this.bookingList,draft_no:this.draft_no}});e.disableClose=!0,e.afterClosed().subscribe(e=>{e&&this.loadData()}),this.isUploadClicked=!1}}loadData(){this.isLoading=!0,this.DeliveryItemApiService.getUnloadDetails(this.hblDetails,this.selectedContainer).subscribe(e=>{this.dataSource=e.items_list,this.isLoading=!1})}unloadItem(e){}DeleteItem(e,t,i,o){this.isLoading=!0,this.DeliveryItemApiService.deleteItem("16122","22100302504","05",o).subscribe(e=>{this.isLoading=!1,console.log(e,"delete api"),this.loadData()})}AddDeliveryItem(e){console.log(e),this.CargoDeliveryService.addDelivery(e).subscribe(e=>{this.draft_no=e.draft_cfs_no})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.uw),l.Y36(A.n),l.Y36(m))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-delivery-details"]],inputs:{bookingList:"bookingList"},decls:17,vars:6,consts:[[1,"h-100","w-100","d-flex","flex-column","overflow-auto"],[1,"py-2","d-flex","align-items-center","justify-content-center","bg-white","border-top","flex-wrap"],["mat-raised-button","","color","primary",1,"mt-2","ml-3",3,"disabled","click"],["class","flex-grow-1 d-flex align-items-center justify-content-center ",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","w-100","list-container",3,"dataSource"],["matColumnDef","receivedPiece"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","px-2",4,"matCellDef"],["matColumnDef","damageNotes"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-header-row","","class","sticky-top",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"flex-grow-1","d-flex","align-items-center","justify-content-center"],["mode","indeterminate",1,"mx-4"],["mat-header-cell",""],["mat-cell","",1,"px-2"],["mat-cell",""],["mat-header-cell","",1,"text-right"],[1,"d-flex","justify-content-end"],["mat-icon-button","","color","primary",3,"click"],["mat-header-row","",1,"sticky-top"],["mat-row",""]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"button",2),l.NdJ("click",function(){return t.deliveryItem()}),l._uU(3," Delivery Item "),l.qZA(),l.qZA(),l.YNc(4,j,2,0,"div",3),l.TgZ(5,"table",4),l.ynx(6,5),l.YNc(7,B,2,0,"th",6),l.YNc(8,M,2,1,"td",7),l.BQk(),l.ynx(9,8),l.YNc(10,Q,2,0,"th",6),l.YNc(11,O,2,1,"td",9),l.BQk(),l.ynx(12,10),l.YNc(13,Y,2,0,"th",11),l.YNc(14,P,5,0,"td",9),l.BQk(),l.YNc(15,F,1,0,"tr",12),l.YNc(16,E,1,0,"tr",13),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("disabled",t.bookingList.Delivery_BL==l.DdM(5,R)),l.xp6(2),l.Q6J("ngIf",t.isLoading),l.xp6(1),l.Q6J("dataSource",t.dataSource),l.xp6(10),l.Q6J("matHeaderRowDef",t.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",t.displayedColumns))},directives:[s.lW,o.O5,J.BZ,J.w1,J.fO,J.Dz,J.as,J.nj,S.pW,J.ge,J.ev,v.Hw,J.XQ,J.Gk],styles:[""]}),e})();var z=i(3738);function W(e,t){if(1&e&&(l.TgZ(0,"div",3),l.TgZ(1,"div"),l.TgZ(2,"mat-card"),l.TgZ(3,"div",4),l._uU(4),l.qZA(),l.TgZ(5,"div",5),l._uU(6),l.qZA(),l.TgZ(7,"div",4),l._uU(8),l.qZA(),l.TgZ(9,"div",5),l._uU(10),l.qZA(),l.TgZ(11,"div",4),l._uU(12),l.qZA(),l.TgZ(13,"div",5),l._uU(14),l.qZA(),l.TgZ(15,"div",4),l._uU(16),l.qZA(),l.TgZ(17,"div",5),l._uU(18),l.qZA(),l.TgZ(19,"div",4),l._uU(20),l.qZA(),l.TgZ(21,"div",5),l._uU(22),l.qZA(),l.TgZ(23,"div",4),l._uU(24),l.qZA(),l.TgZ(25,"div",5),l._uU(26),l.qZA(),l.TgZ(27,"div",4),l._uU(28),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(4),l.hij("Job : ",e.details.Job,""),l.xp6(2),l.hij("BL/Booking : ",e.details.BL_Booking,""),l.xp6(2),l.hij("Orgin : ",e.details.origin,""),l.xp6(2),l.hij("Destination : ",e.details.destination,""),l.xp6(2),l.hij("BOE : ",e.details.bill_of_entry,""),l.xp6(2),l.hij("Mark and Number : ",e.details.Mark_and_Number,""),l.xp6(2),l.hij("Commodity :",e.details.commodity,""),l.xp6(2),l.hij("CFS Slot : ",e.details.cfs_slot,""),l.xp6(2),l.AsE("Packages : ",e.details.packages,"/",e.details.pack_type,""),l.xp6(2),l.hij("Weight : ",e.details.weight,""),l.xp6(2),l.hij("Volume : ",e.details.volume,""),l.xp6(2),l.hij("Truck No : ",e.details.Truck_No,""),l.xp6(2),l.hij("Driver Name : ",e.details.Driver_Name,"")}}function H(e,t){if(1&e&&(l.TgZ(0,"div",6),l.TgZ(1,"div"),l.TgZ(2,"mat-card"),l.TgZ(3,"div",4),l._uU(4),l.qZA(),l.TgZ(5,"div",5),l._uU(6),l.qZA(),l.TgZ(7,"div",4),l._uU(8),l.qZA(),l.TgZ(9,"div",5),l._uU(10),l.qZA(),l.TgZ(11,"div",4),l._uU(12),l.qZA(),l.TgZ(13,"div",5),l._uU(14),l.qZA(),l.TgZ(15,"div",4),l._uU(16),l.qZA(),l.TgZ(17,"div",5),l._uU(18),l.qZA(),l.TgZ(19,"div",4),l._uU(20),l.qZA(),l.TgZ(21,"div",5),l._uU(22),l.qZA(),l.TgZ(23,"div",4),l._uU(24),l.qZA(),l.TgZ(25,"div",5),l._uU(26),l.qZA(),l.TgZ(27,"div",4),l._uU(28),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(4),l.hij("Job : ",e.details.Job,""),l.xp6(2),l.hij("BL/Booking : ",e.details.BL_Booking,""),l.xp6(2),l.hij("Orgin : ",e.details.origin,""),l.xp6(2),l.hij("Destination : ",e.details.destination,""),l.xp6(2),l.hij("BOE : ",e.details.bill_of_entry,""),l.xp6(2),l.hij("Mark and Number : ",e.details.Mark_and_Number,""),l.xp6(2),l.hij("Commodity :",e.details.commodity,""),l.xp6(2),l.hij("CFS Slot : ",e.details.cfs_slot,""),l.xp6(2),l.AsE("Packages : ",e.details.packages,"/",e.details.pack_type,""),l.xp6(2),l.hij("Weight : ",e.details.weight,""),l.xp6(2),l.hij("Volume : ",e.details.volume,""),l.xp6(2),l.hij("Truck No : ",e.details.Truck_No,""),l.xp6(2),l.hij("Driver Name : ",e.details.Driver_Name,"")}}let $=(()=>{class e{constructor(){}ngOnInit(){this.details=this.bookingList.Delivery_BL[0]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-list-delivery"]],inputs:{bookingList:"bookingList"},decls:3,vars:2,consts:[[1,"h-100","w-100","d-flex","flex-column","overflow-auto"],["class","flex-grow-1 overflow-auto d-none d-md-block",4,"ngIf"],["class","flex-grow-1 overflow-auto d-block d-md-none",4,"ngIf"],[1,"flex-grow-1","overflow-auto","d-none","d-md-block"],[1,"pb-2","color1","text-white","pl-2","pt-2"],[1,"pb-2","color","pl-2","pt-2"],[1,"flex-grow-1","overflow-auto","d-block","d-md-none"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,W,29,14,"div",1),l.YNc(2,H,29,14,"div",2),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",!0),l.xp6(1),l.Q6J("ngIf",!0))},directives:[o.O5,z.a8],styles:[".color[_ngcontent-%COMP%]{background-color:#e7e8ea!important}.color1[_ngcontent-%COMP%]{background-color:#878a8f!important}"]}),e})();function X(e,t){if(1&e&&l._UZ(0,"app-list-delivery",24),2&e){const e=l.oxw();l.Q6J("bookingList",e.bookingList)}}function G(e,t){if(1&e&&l._UZ(0,"app-delivery-details",25),2&e){const e=l.oxw();l.Q6J("bookingList",e.bookingList)}}function K(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",26),l.NdJ("click",function(){return l.CHM(e),l.oxw().searchBooking()}),l.TgZ(1,"mat-icon"),l._uU(2,"search"),l.qZA(),l._uU(3," Search \xa0\xa0"),l.qZA()}}function ee(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",27),l.NdJ("click",function(){l.CHM(e);const t=l.oxw();return t.openBookingNumberScannerPopup(t.bookingSearchFC,"BookingNumber-mobile")}),l.TgZ(1,"mat-icon"),l._uU(2,"qr_code_scanner"),l.qZA(),l._uU(3," Scan \xa0\xa0"),l.qZA()}}function te(e,t){if(1&e&&l._UZ(0,"app-list-delivery",24),2&e){const e=l.oxw();l.Q6J("bookingList",e.bookingList)}}const ie=[{path:"",component:(()=>{class e{constructor(e,t){this.dialog=e,this.cargoDeliveryService=t,this.bookingSearchFC=new a.NI,this.isBookingSearch=!1,this.isBookingExpanded=!0,this.showMobileBookingSearch=!1,this.selectedBookingNumber=null,this.tabIndex=0,this.myControl=new a.NI,this.bookingNumber=[],this.isSearchLoading=!1,this.selectedValue=""}ngOnInit(){}bookingNumberSelected(e){this.selectedBookingNumber=e,this.tabIndex=1}openBookingNumberScannerPopup(e,t){const i=this.dialog.open(r.a,{height:"450px",width:"400px"});i.disableClose=!0,i.afterClosed().subscribe(t=>{e.setValue(t),window.navigator.vibrate&&(window.navigator.vibrate(100),setTimeout(()=>{window.navigator.vibrate(0)},500))}),"Booking-mobile"===t&&(this.showMobileBookingSearch=!0),"Booking-desktop"===t&&(this.isBookingSearch=!0)}clearSearch(){this.isBookingSearch=!this.isBookingSearch,this.bookingSearchFC.setValue(""),this.search="",this.bookingNumber=[]}getBookingListFun(e){}searchBooking(){this.cargoDeliveryService.getCargoDeliveryList(this.search).subscribe(e=>{this.bookingList=e,console.log(e),"FAILED"==this.bookingList.Delivery_BL[0].status&&this.dialog.open(d,{width:"400px",data:{}})})}allClosed(){this.bookingList=null,this.myControl.setValue("",{emitEvent:!1})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.uw),l.Y36(m))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-cargo-delivery"]],decls:39,vars:11,consts:[[1,"d-flex","flex-column","w-100","h-100"],[1,"d-none","d-md-flex","flex-grow-1","overflow-auto","h-100"],[1,"w-50","d-flex","overflow-auto","flex-column"],[1,"d-flex","py-2"],[1,"px-3","d-flex","py-2","align-items-center"],[1,"font-italic","pt-2","cfs-title1","text-danger","bold"],[1,"ml-auto"],[1,"flex-grow-1"],["type","text","aria-label","Number","matInput","","placeholder","HBL/Booking/Bill Of Entry",3,"ngModel","formControl","ngModelChange"],["searchInput",""],["mat-icon-button","",3,"click"],[3,"bookingList",4,"ngIf"],[3,"vertical"],[1,"d-flex","overflow-auto","w-50","flex-column"],["class","flex-grow-1 overflow-auto",3,"bookingList",4,"ngIf"],[1,"d-flex","flex-column","d-md-none","h-100","w-100","overflow-auto"],[1,"bg-white","border-top","p-2","d-flex"],[1,"flex-grow-1","pr-2"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","class","ml-2",3,"click",4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1","overflow-auto"],[1,"flex-grow-1","overflow-auto"],[1,""],[1,"flex-grow-1",3,"bookingList"],[3,"bookingList"],[1,"flex-grow-1","overflow-auto",3,"bookingList"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",1,"ml-2",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"app-header"),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"div",4),l.TgZ(6,"div",5),l._uU(7,"Cargo Delivery"),l.qZA(),l.qZA(),l.TgZ(8,"div",6),l.TgZ(9,"mat-form-field",7),l.TgZ(10,"mat-label"),l._uU(11,"Search"),l.qZA(),l.TgZ(12,"input",8,9),l.NdJ("ngModelChange",function(e){return t.search=e}),l.qZA(),l.qZA(),l.TgZ(14,"button",10),l.NdJ("click",function(){return t.searchBooking()}),l.TgZ(15,"mat-icon"),l._uU(16,"search"),l.qZA(),l.qZA(),l.TgZ(17,"button",10),l.NdJ("click",function(){return t.openBookingNumberScannerPopup(t.bookingSearchFC,"BookingNumber-desktop")}),l.TgZ(18,"mat-icon"),l._uU(19,"qr_code_scanner"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(20,X,1,1,"app-list-delivery",11),l.qZA(),l._UZ(21,"mat-divider",12),l.TgZ(22,"div",13),l.YNc(23,G,1,1,"app-delivery-details",14),l.qZA(),l.qZA(),l.TgZ(24,"div",15),l.TgZ(25,"div",16),l.TgZ(26,"div",6),l.TgZ(27,"mat-form-field",17),l.TgZ(28,"mat-label"),l._uU(29,"Search"),l.qZA(),l.TgZ(30,"input",8,9),l.NdJ("ngModelChange",function(e){return t.search=e}),l.qZA(),l.qZA(),l.YNc(32,K,4,0,"button",18),l.YNc(33,ee,4,0,"button",19),l.qZA(),l.qZA(),l.TgZ(34,"div",20),l.TgZ(35,"div",21),l.YNc(36,te,1,1,"app-list-delivery",11),l.qZA(),l.TgZ(37,"div",22),l._UZ(38,"app-delivery-details",23),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(12),l.Q6J("ngModel",t.search)("formControl",t.myControl),l.xp6(8),l.Q6J("ngIf",t.bookingList),l.xp6(1),l.Q6J("vertical",!0),l.xp6(2),l.Q6J("ngIf",t.bookingList),l.xp6(7),l.Q6J("ngModel",t.search)("formControl",t.myControl),l.xp6(2),l.Q6J("ngIf",!t.showMobileBookingSearch),l.xp6(1),l.Q6J("ngIf",!t.showMobileBookingSearch),l.xp6(3),l.Q6J("ngIf",t.bookingList),l.xp6(2),l.Q6J("bookingList",t.bookingList))},directives:[h.G,f.KE,f.hX,Z.Nt,a.Fj,a.JJ,a.oH,s.lW,v.Hw,o.O5,b.d,V,$],styles:[""]}),e})()}];let oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.Bz.forChild(ie)],n.Bz]}),e})();var ne=i(4885),ae=(i(9238),i(9490),i(521),i(2458)),re=(i(5319),i(9765),i(1439),i(6682),i(5917),i(2759),i(625)),le=i(9243);i(6461),i(7636),i(5257),i(3190),i(5435),i(8307),i(1289),i(946);const se={provide:new l.OlP("mat-autocomplete-scroll-strategy"),deps:[re.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[se],imports:[[re.U8,ae.Ng,ae.BQ,o.ez],le.ZD,ae.Ng,ae.BQ]}),e})();var de=i(5939),ue=i(2613),ge=i(171),pe=i(4466);let me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.ez,oe,pe.m,b.t,v.Ps,f.lN,z.QW,J.p0,S.Cv,c.Is,ge.To,s.ot,q.LD,a.UX,a.u5,ue.Fk,Z.c,k.ZX,de.Nh,ce,ne.Cq]]}),e})()}}]);